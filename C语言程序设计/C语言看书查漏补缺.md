## C语言看书查漏补缺

- e或者E之前必须有数字，且e和E后面都必须为整数

- ![qq_pic_merged_1638954005321.jpg](C:\Users\hale\Documents\Tencent%20Files\3116227229\FileRecv\MobileFile\qq_pic_merged_1638954005321.jpg)

- `#define`行末没有分号

- C语言规定标识符只能由字母、数字和下划线组成，且变量、符号常量名、函数、数组、类型等命名的都是标识符，并且不能以数字开头。

- 整数类型的存放用的是补码存放，且有符号类型的基本数型：`[signed] int`和`int`等价，而`unsigend long int`需要单独设定。**且只有整型存在unsigned**，`%u`表示无符号十进制输出

- 字符以整数形式（字符的ASCII代码）存放在内存单元内的，C编译系统对浮点型常量都按照双精度处理，分配八个字节

- 在做整型除法的时候，一般舍入的方向是**向零靠拢**，且如果跟double类型运算，则结果一定是double类型的。

- 一个`Tab`区有8列。

- 格式字符：`%ld`表示输出`long`，`%lld`表示输出`long long` ，而浮点数: 指定数据宽度和小数位数用`%m.nf`如果把小数点设成0，那么小数点也将不输出。输出的数据向左对齐用`%-m.nf`当数据不超过m时，数据向左靠，右端补空格。还可以用`%e  %o  %x  %u  %g`，

![qq_pic_merged_1638956218986.jpg](C:\Users\hale\Documents\Tencent%20Files\3116227229\FileRecv\MobileFile\qq_pic_merged_1638956218986.jpg)

![qq_pic_merged_1638956283630.jpg](C:\Users\hale\Documents\Tencent%20Files\3116227229\FileRecv\MobileFile\qq_pic_merged_1638956283630.jpg)

- 关系运算符优先级低于算术运算符，高于赋值运算符，且（不等式关系高于（==、！=）关系）

  意味着：` c>a+b`等价于`c>(a+b)` `a=b>c`等价于`a=(b>c)`

- 逻辑运算符：高于赋值运算符，但是低于关系运算符，并且`!(非)`>`&&(与)`>`||(或)`但是`!`是最高的。

- `switch`匹配的时候字符用的是`ASCII`代码。并且可以没有`default`符号。case标号只起到标号的作用，如果没有使用`break`那么将从此语句之后`case`一直运行下去直到碰见`break`，不再进行判断。`default`语句后面的`break`语句可加可不加。存在着多个case标号共用一组执行语句。

- `for`循环中，一共拥有三个表达式，分别代表赋值、判断进入循环条件、是否增加，如果任何一个表达式中有多个情况，需要使用`,`来做区别。

- `strcat` `strncpy` `strcpy`等八个字符串用法 的用法见书`P157-P161` 

- 如果使用

  ```c
  int *p1,*p1,*p,a,b;
  scanf("%d%d",&a,&b);
  p1=&a;p2=&b;
  if (a>b) {
      p=p1;p1=p2;p2=p;
  }
  printf("%d %d\n",a,b);
  printf("%d %d\n",*p1,*p2);
  ```

  这样会只进行指针指向的地址交换，而不对对应的变量进行数值的交换，如果调用`a,b`变量的值，势必导致原来的变量没有进行变化。

- 在设计函数时，不可能通过执行调用函数来改变 实参指针变量的值，但是可以改变实参指针变量所指变量的值

- 如果`p1,p2`都指向同一数组的元素，如果执行`p2-p1`，结果是`p2-p1`的值（两个地址之差）除以数组元素的长度，这个值代表着所指代元素的相对距离。但是`p2+p1`是毫无意义的。

- 可以使用`scanf("%d",P++);`这样的语句实现地址切换。同时指针也可以使用`p[i]`来表示，编译系统可以翻译为`*(p+i)`

- `*p++`等价于`*(p++)` 与`*(++p)`不同

- 在二维数组中，`*(a[i]+j)`或`*(*(a+i)+j)`是`a[i][j]`的值。`*(a+i)`和`a[i]`等价。

- 字符指针变量指向的字符串常量中的内容是不可更改的。并且printf是可变格式输出函数。

  ```c
  char *format="a=%d,b=%d\n"
  printf(fotmat,a,b);
  ```

- 指向字符串的指针

  ```c
  #include<stdio.h>
  int main(){
  	char *string;
  	string="I love China.";
  	printf("%p\n",string+1);
  	return 0;
  }
  ```

- 指向函数的指针见书`p265-p273`

- 指向指针的指针以及指针数组

  ```c
  #include<stdio.h>
  int main(){
  	char *name[]={"Follow me","BASIC","Great Wall","FORTRAN","Computer design"};
  	char **p;
  	int i;
  	for (i=0;i<5;i++){
  		p=name+i;
  		printf("%s\n",*p);
  	}
  }
  ```

- 动态开辟地址时，应该注意是否进行了显化操作

  ![1639703268871](C:\Users\hale\AppData\Local\Temp\1639703268871.png)

- 有关指针的小结，见`p288`

- `sizeof()`是静态运算符 ，在里面进行`i++`，不会改变i的值

![IMG20211217102713](C:\Users\hale\Documents\Tencent Files\3116227229\FileRecv\MobileFile\IMG20211217102713.jpg)

- 转义字符

- #### 一些容易出错的优先级问题

  上表中，优先级同为1 的几种运算符如果同时出现，那怎么确定表达式的优先级呢？这是很多初学者迷糊的地方。下表就整理了这些容易出错的情况：

   

   

  | 优先级问题                                    | 表达式               | 经常误认为的结果                                        | 实际结果                                                     |
  | --------------------------------------------- | -------------------- | ------------------------------------------------------- | ------------------------------------------------------------ |
  | . 的优先级高于 *（-> 操作符用于消除这个问题） | *p.f                 | p 所指对象的字段 f，等价于： (*p).f                     | 对 p 取 f 偏移，作为指针，然后进行解除引用操作，等价于： *(p.f) |
  | [] 高于 *                                     | int *ap[]            | ap 是个指向 int 数组的指针，等价于： int (*ap)[]        | ap 是个元素为 int 指针的数组，等价于： int *(ap [])          |
  | 函数 () 高于 *                                | int *fp()            | fp 是个函数指针，所指函数返回 int，等价于： int (*fp)() | fp 是个函数，返回 int*，等价于： int* ( fp() )               |
  | == 和 != 高于位操作                           | (val & mask != 0)    | (val &mask) != 0                                        | val & (mask != 0)                                            |
  | == 和 != 高于赋值符                           | c = getchar() != EOF | (c = getchar()) != EOF                                  | c = (getchar() != EOF)                                       |
  | 算术运算符高于位移 运算符                     | msb << 4 + lsb       | (msb << 4) + lsb                                        | msb << (4 + lsb)                                             |
  | 逗号运算符在所有运 算符中优先级最低           | i = 1, 2             | i = (1,2)                                               | (i = 1), 2                                                   |

   