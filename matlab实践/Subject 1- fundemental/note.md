## 入门基础

### 1.1 `MATLAB`系统环境



### 1.2  `MATLAB`数值数据

#### 数据类型的分类

- 整型

  - 无符号整数：无符号8位整数、无符号16位整数、无符号32位整数、无符号64位整数
    - 无符号8位整数数据范围：00000000~11111111（0~2 8-1） 
  - 带符号整数：带符号8位整数、带符号16位整数、带符号32位整数、 带符号64位整数 
    - 带符号8位整数数据范围：10000000~01111111（-2 7~2 7-1） 

- 浮点型

  - single函数：将其他类型的数据转换为单精度型。 

  - double函数：将其他类型的数据转换为双精度型。 

    ```matlab
    >> class(4)
    ans =
    double
    >> class(single(4))
    ans = 
    single
    ```

- 复型

  复型数据包括实部和虚部两个部分，实部和虚部默认为双精度型，虚数 单位用i或j来表示。

  - ` real函数`：求复数的实部 
  - `imag函数`：求复数的虚部 

#### 数值数据的输出格式

`format`命令的格式：

​		`format 格式符` 

注意：**`format`命令只影响数据输出格式，而不影响数据的计算和存储**

#### 常用的数学函数

- 函数的调用格式

`函数名 (函数自变量的值)`

函数在运算时是将函数逐项作用于矩阵 的每个元素上，所以最后运算的结果就 是一个与自变量同型的矩阵 

- 常见函数的应用

1. 三角函数有以弧度为单位的函数和以角度为单位的函数，如果是以 **角度**为单位的函数就在**函数名后面加“d”**，以示区别 

```matlab
>> sin(pi/2)
ans = 
	1
>> sind(90)
ans = 
	1
```

2. `abs`函数可以求实数的绝对值、复数的模、字符串的ASCII码值 

```matlab
>> abs(-4)
ans =
4
>> abs(3+4i)
ans =
5
>> abs('a')
ans =
97
```

3. 用于取整的函数有`fix、floor、ceil、round`.

   round函数是按照四舍五入的规则来取整。 ceil是向上取整，取大于等于这个数的第一个整数。 floor是向下取整，取小于等于这个数的第一个整数。 fix是固定取靠近0的那个整数，也就是舍去小数取整 

4. 函数应用举例

   - 分别求一个三位正整数的个位数字、十位数字和百位数字。 
```matlab
>> m=345;
>> m1=rem(m,10)
m1 =
5
>> m2=rem(fix(m/10),10)
m2 =
4
>> m3=fix(m/100)
m3 =
3	
```

## 1.3 变量及其操作

### 变量与赋值语句

在MATLAB中，变量名是以字母开头，后接字母、数字或下画线的字符序列， 最多63个字符。 

- 变量名区分字母的大小写
- 标准函数名以及命令名一般用小写字母 

#### 赋值语句两种格式

- 变量 = 表达式
- 表达式

### 预定义变量

预定义变量是在MATLAB工作空间中驻留，由系统本身定义的变量 

- `ans`是默认赋值变量
-  `i`和`j`代表虚数单位 
- `pi`表示圆周率
- `NaN`代表非数

### 变量的管理

1. who 命令与 whos 命令

2. 内存变量文件

   用于保存MATLAB工作区变量的文件叫做内存变量文件，其扩展名为.mat ，也叫MAT文件 

   - save命令：创建内存变量文件。 
   - load命令：装入内存变量文件 

   ```matlab
   >> save mydata a x 
   >> load mydata
   ```

   

## 1.4 `MATLAB`矩阵的表示

### 矩阵的构建

1. 利用直接输入法建立矩阵:将矩阵的元素用中括号括起 来，按矩阵行的顺序输入各元素，同一行的各元素之间用逗 号或空格分隔，不同行的元素之间用分号分隔。 

   ```matlab
   >> A = [1,2,3;4,5,6;7,8,9]
   
   A =
   
        1     2     3
        4     5     6
        7     8     9
   ```

2. 利用**已建好**的矩阵建立更大的矩阵: 一个大矩阵可以由已经建立好的小矩阵拼接而成 

   ```matlab
   >> A = [1,2,3;4,5,6;7,8,9]
   >> B = [-1,-2,-3;-4,-5,-6;-7,-8,-9];
   >> C = [A,B;B,A]
   
   C =
   
        1     2     3    -1    -2    -3
        4     5     6    -4    -5    -6
        7     8     9    -7    -8    -9
       -1    -2    -3     1     2     3
       -4    -5    -6     4     5     6
       -7    -8    -9     7     8     9
   ```

### 冒号表达式

格式：

​	`e1:e2:e3` 

其中 `e1`表示初始值， `e2`表示步长 , `e3`表示终止值

省略步长e2，则步长为1 

格式：

​	`linspace(a,b,n)`

其中`a`表示第一个元素, `b`表示最后的元素，`n`表示元素总数

```matlab
>> x = linspace(0,pi, 6)
x =
         0    0.6283    1.2566    1.8850    2.5133    3.1416
```

### 结构矩阵和单元矩阵

1. 结构矩阵

   由结构数据构成的矩阵就是结构矩阵，结构矩阵里的每个元素 就是结构数据类型。 

   格式为： 结构矩阵元素.成员名=表达式 

2. 

   单元矩阵

   建立单元矩阵和一般矩阵相似，直接输入就可以了，只是单元矩阵元
   素用大括号括起来

   ```matlab
   >> b = {10, 'liu',[11,21;34,78];12,'wang',[34,191;27,578];...
   14,'cai',[13,890;67,231]}
   
   b = 
   
       [10]    'liu'     [2x2 double]
       [12]    'wang'    [2x2 double]
       [14]    'cai'     [2x2 double]
   ```

## 1.5 矩阵元素的引用

### 矩阵元素的引用方式

1. 通过下标来引用矩阵的元素

注意：如果给出的**行下标或列下标大于原来矩阵的行数和列数**， 那么MATLAB将自动扩展原来的矩阵，并将扩展后没有赋值的矩阵 元素置为0。 

2. 通过序号来引用

- 在MATLAB中，**矩阵元素按列存储**，即首先存储矩阵的第一列元 素，然后存储第二列元素，…，一直到矩阵的最后一列元素。 
- 序号与下标是一一对应的，以m×n矩阵A为例，矩阵元素A(i,j)的序号为`(j-1)×m+i `

```matlab
>> A = [1,2,3;4,5,6]
A =
     1     2     3
     4     5     6
>> A(4)
ans =
     5
```

3. 一些函数

   - `sub2ind函数`：将矩阵中指定元素的行、列下标转换成存储的序号。

     调用格式：

     ​		`D = sub2ind(S, I, J)`

     其中 `D`表示序列号， `S`表示行数和列数组成的向量，`I`转换矩阵的行下标，`J`转换矩阵的列标

### 利用冒号表达式获得子矩阵 

子矩阵是指由矩阵中的一部分元素构成的矩阵。 

- `A(i,:)` 第i行的全部元素 
- `A(:,j)` 第j列的全部元素 
- `A(i:i+m,k:k+m)` 第i～i+m行内且在第k～k+m列中的所有元素 
- `A(i:i+m,:)` 第i～i+m行的全部元素 
- `end`运算符：表示某一维的末尾元素下标。 

```matlab
>> A = [1,2,3,4,5;6,7,8,9,10;11,12,13,14,15;16,17,18,19,20];
>> A(end, :)
ans =
    16    17    18    19    20
>> A([1,4],3:end)
ans =
     3     4     5
    18    19    20
```

### 利用空矩阵删除矩阵的元素 

空矩阵是指没有任何元素的矩阵。 

```matlab
>> x = []
```

### 改变矩阵的形状 

`reshape(A,m,n)`:在矩阵总元素保持不变的前提下，将矩阵A重 新排成`m×n`的二维矩阵。

 注意：**reshape函数只是改变原矩阵的行数和列数，但并不改 变原矩阵元素个数及其存储顺序。** 

```matlab
>>  x=[23,45,65,34,65,34,98,45,78,65,43,76];
>> y = reshape(x, 3, 4)
y =
    23    34    98    65
    45    65    45    43
    65    34    78    76
```

`A(:)` ：将矩阵A的每一列元素堆叠起来，成为一个列向量。 

## 1.6 `MATLAB`基本运算 

### 算术运算

`MATLAB`的运算是在**矩阵**意义下进行的，**单个数据的算术运算只 是矩阵运算的一种特例**

1. 基本算术运算

   基本算术运算符：＋(加)、－(减)、*(乘)、/(右除)、\(左除)、 ^(乘方)。 

   一个**标量**也可以和矩阵进行**加减运算**，这时把标量和矩阵的 **每一个元素**进行加减运算。 

   矩阵A和B进行乘法运算，**要求A的列数与B的行数相等**，此时则 称A、B矩阵是可乘的，或称A和B两矩阵维数和大小相容 

   在`MATLAB`中，有两种矩阵除法运算：**`右除/和左除\`**。 如果A矩阵是非奇异方阵，则B/A等效于`B*inv(A)`，`A\B`等效 于`inv(A)*B`。 

   一个矩阵的乘方运算可以表示成`A^x`，要求`A`为方阵，`x`为标量 

2. 点运算

   点运算符：`.* `  `./ `  `.\` `.^` 
   两句矩阵进行点运算是指它们对应的元素进行相关运算，并且要求两矩阵同型

### 关系运算

关系运算符：`<(小于)`、`<=(小于或等于)`、`>(大于)`、`>=(大于或等 于)`、`==(等于)`、`～=(不等于)` 

- 当两个比较量是标量时，**直接比较**两数的大小。若关系成立，关系 表达式结果为1，否则为0。 
- 当参与比较的量是**两个同型的矩阵**时，比较是对两矩阵相同位置的元素按标 量关系运算规则逐个进行，最终的关系运算的**结果是一个与原矩阵同型的矩阵**，它的元素由0或1组成 
- 当参与比较的一个是**标量**，而另一个是矩阵时，则把标量与矩阵的**每一个元素**按标量关系运算规则逐个比较，最终的关系运算的**结果是一个与原矩阵同型的矩阵**，它的元素由0或1组成 

### 逻辑运算

逻辑运算符：`&(与)`、`|(或)`和`～(非)`。

 设参与逻辑运算的是两个标量a和b，那么运算规则为:

-  `a&b` a、b全为非零时，运算结果为1，否则为0。 
- `a|b` a、b中只要有一个为非零时，运算结果为1 
- `～a` 当a为零时，运算结果为1；当a为非零时，运算结果为0 

若参与逻辑运算的是**两个同型矩阵**，那么将对矩阵**相同位置上的元素**按标量规则逐个进行运算，最终运算结果是一个与原矩阵同型的 矩阵，其**元素由1或0组成** 

若参与逻辑运算的一个是**标量**，一个是矩阵，那么将在标量与矩阵中的每个元素之间按标量规则**逐个进行运算**，最终运算结果是一个 与矩阵同型的矩阵，其元素由1或0组成。 

**举例： 求出水仙花数**

```matlab
>> m=100:999;
>> m1=rem(m,10);
>> m2=rem(fix(m/10),10);
>> m3=fix(m/100);
>> k=find(m==m1.*m1.*m1+m2.*m2.*m2+m3.*m3.*m3)
k =
54 271 272 308
>> s=m(k)
s =
153 370 371 407
```

## 1.7 字符串处理

### 字符串的表示

在`MATLAB`中，字符串是用**单引号**括起来的字符序列。 

若字符串中的字符含有**单引号**，则该**单引号字符**要用**两个单引号**来表示。 

### 字符串的操作

1. 字符串的执行

   格式：

   ​		`eval(s)`

   其中`s`是字符串

   ```matlab
   >> t = pi
   >> m = '[t, sin(t), cos(t)]';
   >> y = eval( m )
   y =
       3.1416    0.0000   -1.0000
   ```

2. 字符串与数值之间的转换

   - `abs`和`double`函数都可以用来获取字符串矩阵所对应的`ASCII`码数值矩阵 
   - `char`函数可以把`ASCII`码矩阵转换为字符串矩阵 

   ```matlab
   >> s1 = 'MATLAB';
   >> a = abs(s1);
   >> char ( a + 32 )
   ans =
   matlab
   ```

3. 字符串的比较

   关系运算符比较：两个字符串里的每个字符依次按**ASCII值**大小逐 个进行比较，比较的结果是一个**数值向量**，向量中的元素**要么是1 ，要么是0** 

   字符串比较函数用于判断字符串是否相等，有4种比较方式，函数如下： 

   - `strcmp(s1,s2)`：用来比较字符串s1和s2是否相等，如果相等，返回结果为1，否则 返回0。 
   - `strncmp(s1,s2,n)`：用来比较两个字符串前`n`个字符是否相等，如果相等，返回1， 否则返回0。 
   - `strcmpi(s1,s2)`：在忽略字母大小写前提下，比较字符串s1和s2是否相等，如果相 等，返回1，否则返回0。 
   - `strncmpi(s1,s2,n)`：在忽略字符串大小写前提下，比较两个字符串前n个字符是否 相等，如果相等，返回1，否则返回0 

4. 字符串的查找与替换

   - `findstr(s1,s2)`：返回短字符串在长字符串中的开始位置 
   - `strrep(s1,s2,s3)`：将字符串s1中的所有子字符串s2替换为字符 串s3 

