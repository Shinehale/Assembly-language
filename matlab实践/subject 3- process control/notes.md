# Matlab程序流程控制

## 顺序结构程序

### 程序和程序设计

- 程序是用某种计算机能够理解并且能够执行的语言来描述的解决问 题的方法和步骤。 
- 程序设计的基本步骤
  - 分析问题，确定求解问题的数学模型或方法
  - 设计算法，并且画出流程图
  - 选择编程工具，根据算法编写程序
  - 调试程序，分析程序输出结果

### 程序的三种基本结构

- 顺序结构
- 选择结构
- 循环结构

### 脚本文件和函数文件

- 脚本文件是可在命令行窗口直接执行的文件，也叫命令文件。 
- 函数文件是定义一个函数，不能直接执行，而必须以函数调用 的方式来调用它。 

### 文件的建立

分别建立脚本文件和函数文件，求两个矩阵的乘积。 

### 顺序结构

- 数据的输入

- 数据的输出

- 程序的暂停

  若要强行中止程序的运行可使用`Ctrl+C`命令 

## 用if语句实现选择结构

### 什么是选择结构

选择结构又称为分支结构，是根据给定的条件是否成立来决定程序的执行流程。 

### 单分支`if`语句

- 格式

  ```matlab
  if 条件
  	语句组
  end 
  ```

- 当条件结果为标量时,非零表示条件成立，零表示条件不成立 

- 当条件结果为矩阵时，**如果矩阵为非空，且不包含零元素，则条件成立**，否则不成立。 

### 双分支`if`语句

- 格式

  ```matlab
  if 条件
  	语句组1
  else 
  	语句组2
  end
  ```

### 多分支`if`语句 

- 格式

  ```matlab
  if 条件1
  	语句组1
  elseif 条件2
  	语句组2
  	···
  elseif 条件m
  	语句组m
  else 
  	语句组n
  end
  ```


## 用`switch`语句实现选择结构

### 语句格式

```matlab
switch 表达式 
	case 结果表1 
 			语句组1 
 	case 结果表2 
 			语句组2 
 			… 
 	case 结果表m 
 			语句组m 
 	otherwise 
 		语句组n 
end
```

当任意一个分支的语句执行完后，整个 switch语句执行完毕。整个过程**只会执行一个 语句组。**  

## 用for语句实现循环结构 

### 什么是循环结构

循环结构又称为重复结构，是利用计算机运算速度快 以及能进行逻辑控制的特点来重复执行某些操作。 

### for语句

格式：

```matlab
for 循环变量 = 表达式1：表达式2：表达式3
	循环体语句
end
# 表达式1 为初值 表达式2 为步长 表达式3 为终值
```

## 用while语句实现循环结构 

### while语句 

格式：

```matlab
while 	条件
			循环体语句
end
```

- while语句多用于循环次数不确定的情况，而对于循环次数确定的 情况，使用for语句更方便 
- 针对不同情况可以选择不同的循环语句，但从功能上讲两种循环 语句可以相互替代。  

### break语句和continue语句 

- break语句用来跳出循环体，结束整个循环。 
- continue语句用来结束本次循环,接着进行下一次是否执行循 环的判断。 

### 循环的嵌套 

- 如果一个循环结构的循环体又包括一个循环结构，就称为循环 的嵌套，或称为多重循环结构。处于内部的循环叫做内循环， 处于外部的循环叫做外循环。 

## 函数文件的定义与调用

### 函数文件的基本结构

- ```matlab
  function 输出形参表=函数名(输入形参表) 
  注释说明部分 
  函数体语句 
  当输出形参多于一个时，应该用方括号括起来，构成一个输出矩阵。
  ```

-  函数文件名通常由函数名再加上扩展名.m组成，函数文件名与 函数名也可以不相同。当函数文件名与函数名不相同时， MATLAB将忽略函数名，调用时使用函数文件名。 

- return语句表示结束函数的执行。通常，在函数文件中也可以 不使用return语句，那么被调用函数执行完成后会自动返回。 

### 函数调用

调用格式：

```matlab
[输出实参表] = 函数名（输入实参表）
```

需要注意的是调用的时候**用的函数文件名**而不是函数名

### 匿名函数

- 基本格式

  ```matlab
  函数句柄变量=@(匿名函数输入参数) 匿名函数表达式
  函数句柄变量=@函数名 
  ```

## 函数的递归调用 

### 函数的嵌套调用  

- 如果在一个函数的定义中调用了其他函数这就是函数的嵌套调用。 

### 函数的递归调用 

一个函数调用它自身称为函数的递归调用。  

-  直接递归调用 
- 间接递归调用 

## 函数参数与变量的作用域 

### 函数参数的可调性 

- nargin ——>  输入实参的个数  
- nargout ——> 输出实参的个数 

### 全局变量与局部变量 

-  局部变量：在程序中只在特定过程或函数中可以访问的变量。 
- 全局变量 ：所有的函数都可以对它进行存取和修改。 

格式：

```matlab
global 变量名
```