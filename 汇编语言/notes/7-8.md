## 第七章 更加灵活的定位内存地址的方法

- ` and `指令： 逻辑与指令，按位进行与运算

通过该指令可以将对应设定位置上的值设置为0，其余位置的值保持不变

- `or` 指令：逻辑或指令，按位进行或运算

通过该指令可以将操作对象的相应位置的值设定为1，其余位置不变



- 可以使用`.....`的方式指明数据是以字符的形式给出的



- 小写字母的`ASCII`代码比大写字母的`ASCII`代码大20H
- 大小写转换

一个字母不管它原来是大写还是小写，将它的第5位置零，则变成了大写字母,位数的判断用0开始

将它的第5位置一，则变成了小写字母，从而实现了不需要对字母的大小写进行判断的情况

```assembly
s:	mov al, [bx]
	and al, 11011111B 
	mov [bx], al
	inc bx 
	loop s
```

```assembly
s0:	mov al, [bx]
	or al, 00100000B 
	mov [bx], al
	inc bx 
	loop s0
```



- `[bx+idata]` 表示 偏移地址 `(bx)+idata`的地址

有了上面的情况，我们可以考虑使用字符串的相对地址的情况来实现的对于不同字符串的遍历即

`[ 0 + bx ]  ` `[ 5 + bx ] `定义了两个字符串的起始地址

同时 其中 `[5 + bx]` 可以写成 `5[bx]` 类比高级语言中的数组可以发现， `[bx+idata] `为高级语言实现数组提供了便利机制



- `si ` `di` 是8086CPU中和bx功能相近的寄存器，但是`si` 和 `di`不能分成两个8位寄存器使用 即

`[si] <=> [di] <=> [bx]`  当且仅当`si ==  di == bx`



- `[bx+si]` 和 `[bx+di]`同样可以用来指明一个内存单元



- `[bx+si+idata]` 和 `[bx+di+idata]` 跟上面类似

但是显然有更加简便的写法

```assembly
mov ax, [bx+200+si]
mov ax, [200+bx+si]
mov ax, 200[bx][si]
mov ax, [bx].200[si]
mov ax, [bx][si].200
```

类比C语言中的结构体，跟二维数组还是有一定的差异的



- 不同寻址方式对比

![1652183835111](C:\Users\hale\Desktop\能力提升\Hale_Core\汇编语言\note\7-8对比.png)

- 一点小技巧： 在需要咋村数据的时候，我们都应该使用栈来完成存储



## 第八章 数据处理的两个基本问题

1. 处理的数据在什么地方
2. 要处理的数据有多长



-  定义描述性符号 : `reg`  和 `sreg`  `reg`表示一个寄存器， `sreg` 表示一个段寄存器

`reg`的集合有: `ax, bx, cx, dx, ah, al, bh, bl, ch, cl, dh, dl, sp, bp , si, di`

`sreg`的集合有: `ds, ss, cs, es`.



-  只有 `bx, si, di, bp` 可以用在`[...]` 中进行内存单元的寻址

上述寄存器可以四个单独出现，或**只能以四种组合出现**:`bx和si` ，`bx和di` ， `bp和si`， `bp和di`

故而**没有**这样的指令 : `[bx+bp]` `[si+di]`

`bp`寄存器，只要被使用，**指令中若没有显性给出段地址，段地址默认在**`ss`中。



在`8086CPU`的指令中，可以处理两种尺寸的数据, `byte`和`word`,有以下几种办法：

1. 通过寄存器名指明要处理的数据的尺寸
2. 在没有寄存名存在的情况下，用操作符`X ptr` 指明内存单元的长度，`X`在汇编指令中可以为`word`或`byte`
3. 有些操作默认访问的是字还是字节操作，例如`push [1100H]`这样的操作默认是只进行字操作



- `div`指令 

1. 除数：有8位和16位两种，放在一个`reg`或内存单元中

2. 被除数：默认放在`AX`或  `DX和AX`中，如果除数是八位，被除数则为16位；若除数是16位，被除数则为32位，在`DX和AX`中存放，`DX`存放高16位，`AX`存放低16位

3. 结果：如果除数的位数为8位，则`AL`存储除法操作的商，`AH`存储除法操作的余数； 

   如果除数为16位，则`AX`存储除法操作的商，`DX`存储除法操作的余数



- 伪指令`dd`

  定义一个双字，存储占用`2`个字



- dup 操作符

  用于数据的重复

  ```assembly
  db 3 dup (0,1,2) ;定义了九个字节，并且依次是0,1,2,0,1,2,0,1,2
  ```

使用格式如下：

1. `db 重复的次数 dup (重复的字节型数据)`
2. `dw 重复的次数 dup (重复的字型数据)`
3. `dd 重复的次数 dup (重复的双字型数据)`







 



